{{ define "index.html" }}
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Portals</title>
  <script src="https://unpkg.com/htmx.org@1.9.12"></script>
  <script defer src="https://unpkg.com/htmx.org@1.9.12/dist/ext/sse.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="/static/css/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>

<body hx-ext="sse" sse-connect="/events">
  <div class="container d-flex flex-column justify-content-center align-items-center gap-2" style="width: 50vw;">
    <!-- Join -->
    <div class="container" id="join-area">
      {{ template "_join_form.html" . }}
    </div>

    <!-- Board -->
    <div class="container">
      <div class="row">
        <div class="col">
          <div class="panel">
            <h3>Board</h3>
            <div id="board" sse-swap="board" hx-swap="innerHTML">
              {{ template "_board.html" . }}
            </div>
          </div>
        </div>
        <div class="col">
          <div class="panel text-center">
            <h3>Stream</h3>
            <div id="stream-pane" hx-ext="sse" sse-connect="/events" sse-swap="stream" hx-swap="innerHTML">
              {{ template "_stream_chats.html" .}}
            </div>
          </div>
        </div>
      </div>
      <hr />
      <div class="row">
        <div class="col">
          <div class="panel text-start">
            <h3>Players</h3>
            <div id="players" sse-swap="players" hx-swap="innerHTML"></div>
          </div>
        </div>
        <div class="col">
          <div class="panel text-start">
            <h3>Dice</h3>
            <div id="dice" sse-swap="dice" hx-swap="outerHTML">
              {{ template "_dice.html" . }}
            </div>
          </div>
        </div>
      </div>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
      </script>
</body>

</html>
{{ end }}